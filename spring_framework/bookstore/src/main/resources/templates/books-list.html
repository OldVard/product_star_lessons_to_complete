<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookStore</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
    <div class="hero">
        <div class="table-container">
            <table>
                <caption>–ö–Ω–∏–≥–∏: –≤—Å–µ</caption>
                <thead>
                    <tr>
                        <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                        <th>–ê–≤—Ç–æ—Ä</th>
                        <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="book : ${books}">
                        <td th:text="${book.name}" class="book-title"></td>
                        <td th:text="${book.author}"></td>
                        <td th:text="${book.pages}"></td>
                        <td>
                            <a th:href="@{'books/edit-form/' + ${book.id}}" class="edit">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                        </td>
                        <td>
                            <a th:href="@{'books/delete/' + ${book.id}}" class="delete">–£–¥–∞–ª–∏—Ç—å</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="creation">
            <a th:href="@{'/books/create-form'}" class="create">–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É<b>+</b></a>
            <!-- –û–¥–Ω–∞ –æ—à–∏–±–∫–∞ –∏ —Ç—ã –æ—à–∏–±—Å—è aka –õ–µ–Ω—å –î–µ–ª–∞—Ç—å JS -->
            <a th:href="@{'/books/delete-all'}" class="critical-delete" id="delete-all">üßπ</a>
        </div>
    </div>

    <!-- JS -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const deleteAllBtn = document.querySelector('.critical-delete');
            if (deleteAllBtn) {
                deleteAllBtn.addEventListener('click', function (event) {
                    const confirmed = confirm('–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–Ω–∏–≥–∏? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!');
                    if (!confirmed) {
                        event.preventDefault();
                    }
                });
            }
        });
    </script>

</body>

</html>